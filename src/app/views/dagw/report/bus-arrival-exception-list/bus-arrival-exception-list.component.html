<div class="breadcrumbs">
  <app-breadcrumbs
    [showHome]="false"
    [menuItem]="'Report'"
    headerTitle="Bus Arrival Exception List"></app-breadcrumbs>
</div>
<mat-card>
  <mat-card-header>
    <h1 class="page-title">Bus Arrival Exception List</h1>
  </mat-card-header>
  <mat-divider> </mat-divider>
  <mat-card-content>
    <div class="content-container">
      <form [formGroup]="adhocForm">
        <div
          class="entry-actions"
          style="margin-bottom: 20px; display: flex; align-items: center">
          <div style="display: flex; flex-direction: column">
            <label style="font-weight: 700">Date</label>
            <mat-form-field style="width: 420px">
              <input
                matInput
                [matDatepicker]="picker"
                placeholder="Select Date"
                (dateChange)="handleChangeDate($event)" />
              <mat-datepicker-toggle matIconSuffix [for]="picker">
                <mat-icon matDatepickerToggleIcon>
                  <img src="/assets/icons/calendar.svg" /> </mat-icon
              ></mat-datepicker-toggle>
              <mat-datepicker #picker></mat-datepicker>
            </mat-form-field>
          </div>

          <!-- 
          <div style="display: flex; flex-direction: column">
            <label style="font-weight: 700">SP Name</label>
            <mat-form-field style="width: 320px">
              <mat-select formControlName="spName" placeholder="Select Depot">
                @for (depot of spName; track $index) {
                  <mat-option [value]="depot.id">
                    {{ depot.value }}
                  </mat-option>
                }
              </mat-select>
              <mat-icon style="padding: unset !important" matSuffix
                >keyboard_arrow_down</mat-icon
              >
            </mat-form-field>
          </div> -->

          @if (!!dateSelected) {
            <div class="button-filter" style="margin: 20px 0 0 auto">
              <button
                type="button"
                class="search-button btn edit"
                mat-flat-button
                (click)="isToggle = !isToggle"
                >
                <mat-icon>visibility</mat-icon>
                View Report
              </button>
            </div>
          }
        </div>
      </form>

      <!-- @if(!isToggle) {
        <div class="empty-depot-display">
          <img src="/assets/icons/camera.svg" alt="empty files" />
          <p>Complete selection to view info.</p>
          <p>No data to display.</p>
        </div>
      } @else {
        <iframe
          [src]="pdfUrl3"
          width="100%"
          height="400"
        ></iframe>
      } -->

       <iframe
          [src]="pdfUrl3"
          width="100%"
          height="400"
        ></iframe>
    </div> </mat-card-content
></mat-card>
