<div class="breadcrumbs">
  <app-breadcrumbs
    [menuItem]="'Maintenance'"
    [headerTitle]="getPageTitle()"></app-breadcrumbs>
</div>
<mat-card>
  <mat-card-header>
    <h1 class="page-title">{{ getPageTitle() }}</h1>
  </mat-card-header>
  <mat-divider> </mat-divider>
  <mat-card-content>
    <div class="content-container">
      <form [formGroup]="depotForm">
        <div
          class="entry-actions"
          style="margin-bottom: 20px; display: flex; align-items: center">
          <div style="display: flex; flex-direction: column">
            <label style="font-weight: 700">Depot Name</label>
            <mat-form-field style="width: 320px">
              <mat-select formControlName="depots" placeholder="Select Depot">
                @for (depot of depots; track $index) {
                  <mat-option [value]="depot.depot_id">
                    {{ depot.depot_name }}
                  </mat-option>
                }
              </mat-select>
            </mat-form-field>
          </div>

          <!-- <app-filter
              [filterConfigs]="filterConfigs"
              [enableSearch]="false"></app-filter> -->
        </div>
        @if (getPageTitle() === 'EOD Process' && selectedDepot) {
          <div
            class="entry-actions"
            style="
              margin-bottom: 20px;
              display: flex;
              flex-wrap: wrap;
              align-items: center;
              margin: 0;
              border-top: 1px solid #e0e0e0;
              padding: 20px 24px;
            ">
            <div style="display: flex; flex-direction: column">
              <label style="font-weight: 700">Current Business Day</label>
              <mat-form-field
                style="min-width: 240px; background-color: #f7f7f7"
                appearance="outline">
                <input matInput [value]="'10/10/2024'" disabled />
              </mat-form-field>
            </div>

            <div style="display: flex; flex-direction: column">
              <label style="font-weight: 700">Last EOD Executed</label>
              <mat-form-field
                style="min-width: 240px; background-color: #f7f7f7"
                appearance="outline">
                <input matInput [value]="'10/10/2024 04:12:24'" disabled />
              </mat-form-field>
            </div>

            <div class="button-filter" style="margin: 20px 0 0 auto">
              <button
                type="button"
                class="search-button btn add"
                (click)="forceEOD()"
                mat-flat-button>
                <mat-icon>power_settings_new</mat-icon>
                Force EOD
              </button>
            </div>
          </div>
        }

        <!-- Selected Filter Component -->
        <!-- <app-selected-filter /> -->
      </form>

      @if (!depotValue) {
        <div class="empty-depot-display">
          <img src="/assets/icons/camera.svg" alt="empty files" />
          <p>Select a depot to show results.</p>
          <p>No data to display.</p>
        </div>
      }

      <router-outlet></router-outlet>
    </div>
  </mat-card-content>
</mat-card>
